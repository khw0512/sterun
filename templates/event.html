{% extends "base.html" %}
{% load static %}
{% block content %}
  <div style="height:50px; width:100%;"></div>
  <div class="title-box title-medium center-title-box">
    <span class="sub-title wow fadeInUp animated">running events</span>
    <h2 class="title-section wow fadeInUp animated">Running Events Coming Up include</h2>
  </div>
  <!-- Recent run-events Start -->
  <div class="section">
    <div class="container">
      <div class="row mb-n5 justify-content-center">

        <div class="col-lg-8 col-12 mb-6 pe-lg-6">

          <!-- run-event List Toolbar Start -->
          <div class="run-event-list-toolbar">
            <p>Showing 1-5 of
              {{len}}
              results</p>
          </div>
          <!-- run-event List Toolbar End -->

          <!-- run-event List Wrap Start -->
          <div class="run-event-list-wrap">
            <!-- run-event List Start -->
            {% for event in events %}
              <a href="{% url "community:event_detail" event.event_id %}" class="run-event-list row">
                <div class="company-logo col-auto">
                  <img style="width:70px;" src="/media/{{event.manager.image}}" alt="Company Logo">
                </div>
                <div class="salary-type col-auto order-sm-3">
                  <span class="salary-range">${{event.amount}}</span>
                  {% if event.status == "ST1" %}
                    <span class="badge bg-warning">{{event.get_status_display}}</span>
                  {% elif event.status == "ST2" %}
                    <span class="badge bg-success">{{event.get_status_display}}</span>
                  {% elif event.status == "ST3" %}
                    <span class="badge bg-info">{{event.get_status_display}}</span>
                  {% elif event.status == "ST4" %}
                    <span class="badge bg-secondary">{{event.get_status_display}}</span>
                  {% endif %}

                </div>
                <div class="content col ">
                  <h5 class="title wow fadeInUp animated" style="margin-bottom:10px;">{{event.title}}</h5>
                  <div class="event-list-title wow fadeInUp animated">
                    Manager :
                    {{event.manager.name}}</div>
                  <ul class="meta wow fadeInUp animated">
                    <svg style="margin-right:10px" width="18" height="20" viewbox="0 0 18 20" fill="none" xmlns="http://www.w3.org/2000/svg">
                      <path d="M16.5 2H14.25V1.25C14.25 1.05109 14.171 0.860322 14.0303 0.71967C13.8897 0.579018 13.6989 0.5 13.5 0.5C13.3011 0.5 13.1103 0.579018 12.9697 0.71967C12.829 0.860322 12.75 1.05109 12.75 1.25V2H5.25V1.25C5.25 1.05109 5.17098 0.860322 5.03033 0.71967C4.88968 0.579018 4.69891 0.5 4.5 0.5C4.30109 0.5 4.11032 0.579018 3.96967 0.71967C3.82902 0.860322 3.75 1.05109 3.75 1.25V2H1.5C1.10218 2 0.720644 2.15804 0.43934 2.43934C0.158035 2.72064 0 3.10218 0 3.5V18.5C0 18.8978 0.158035 19.2794 0.43934 19.5607C0.720644 19.842 1.10218 20 1.5 20H16.5C16.8978 20 17.2794 19.842 17.5607 19.5607C17.842 19.2794 18 18.8978 18 18.5V3.5C18 3.10218 17.842 2.72064 17.5607 2.43934C17.2794 2.15804 16.8978 2 16.5 2ZM16.5 6.5H1.5V3.5H3.75V4.25C3.75 4.44891 3.82902 4.63968 3.96967 4.78033C4.11032 4.92098 4.30109 5 4.5 5C4.69891 5 4.88968 4.92098 5.03033 4.78033C5.17098 4.63968 5.25 4.44891 5.25 4.25V3.5H12.75V4.25C12.75 4.44891 12.829 4.63968 12.9697 4.78033C13.1103 4.92098 13.3011 5 13.5 5C13.6989 5 13.8897 4.92098 14.0303 4.78033C14.171 4.63968 14.25 4.44891 14.25 4.25V3.5H16.5V6.5Z" fill="grey"></path>
                    </svg>
                    <li>
                      {% if event.start_date == event.end_date %}
                        {{event.start_date}}
                      {% else %}{{event.start_date}}
                        -
                        {{event.end_date}}
                        , Regular
                      {% endif %}
                    </li>
                  </ul>
                  <ul class="meta wow fadeInUp animated">
                    <svg style="margin-right:10px" width="17" height="20" viewbox="0 0 18 22" fill="none" xmlns="http://www.w3.org/2000/svg">
                      <path d="M9 3.75C7.21997 3.75 5.47991 4.27784 3.99987 5.26677C2.51983 6.25571 1.36628 7.66131 0.685088 9.30585C0.00389957 10.9504 -0.17433 12.76 0.172937 14.5058C0.520204 16.2516 1.37737 17.8553 2.63604 19.114C3.89472 20.3726 5.49836 21.2298 7.24419 21.5771C8.99002 21.9243 10.7996 21.7461 12.4442 21.0649C14.0887 20.3837 15.4943 19.2302 16.4832 17.7501C17.4722 16.2701 18 14.53 18 12.75C17.9973 10.3639 17.0482 8.07629 15.361 6.38905C13.6737 4.70182 11.3861 3.75273 9 3.75ZM13.2806 9.53063L9.53063 13.2806C9.46095 13.3503 9.37822 13.4056 9.28718 13.4433C9.19613 13.481 9.09855 13.5004 9 13.5004C8.90146 13.5004 8.80388 13.481 8.71283 13.4433C8.62179 13.4056 8.53906 13.3503 8.46938 13.2806C8.3997 13.2109 8.34442 13.1282 8.30671 13.0372C8.269 12.9461 8.24959 12.8485 8.24959 12.75C8.24959 12.6515 8.269 12.5539 8.30671 12.4628C8.34442 12.3718 8.3997 12.2891 8.46938 12.2194L12.2194 8.46938C12.2891 8.39969 12.3718 8.34442 12.4628 8.30671C12.5539 8.26899 12.6515 8.24958 12.75 8.24958C12.8486 8.24958 12.9461 8.26899 13.0372 8.30671C13.1282 8.34442 13.2109 8.39969 13.2806 8.46938C13.3503 8.53906 13.4056 8.62178 13.4433 8.71283C13.481 8.80387 13.5004 8.90145 13.5004 9C13.5004 9.09855 13.481 9.19613 13.4433 9.28717C13.4056 9.37822 13.3503 9.46094 13.2806 9.53063ZM6 1.5C6 1.30109 6.07902 1.11032 6.21967 0.96967C6.36033 0.829018 6.55109 0.75 6.75 0.75H11.25C11.4489 0.75 11.6397 0.829018 11.7803 0.96967C11.921 1.11032 12 1.30109 12 1.5C12 1.69891 11.921 1.88968 11.7803 2.03033C11.6397 2.17098 11.4489 2.25 11.25 2.25H6.75C6.55109 2.25 6.36033 2.17098 6.21967 2.03033C6.07902 1.88968 6 1.69891 6 1.5Z" fill="grey"></path>
                    </svg>
                    <li>
                      {{event.start_time}}
                    </li>
                  </ul>
                  <ul class="meta wow fadeInUp animated">
                    <li>
                      <svg style="margin-right:10px" width="17" height="20" viewbox="0 0 18 22" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <path d="M9 0.5C6.81273 0.502481 4.71575 1.37247 3.16911 2.91911C1.62247 4.46575 0.752481 6.56273 0.75 8.75C0.75 15.8094 8.25 21.1409 8.56969 21.3641C8.69579 21.4524 8.84603 21.4998 9 21.4998C9.15397 21.4998 9.30421 21.4524 9.43031 21.3641C9.75 21.1409 17.25 15.8094 17.25 8.75C17.2475 6.56273 16.3775 4.46575 14.8309 2.91911C13.2843 1.37247 11.1873 0.502481 9 0.5ZM9 5.75C9.59334 5.75 10.1734 5.92595 10.6667 6.25559C11.1601 6.58524 11.5446 7.05377 11.7716 7.60195C11.9987 8.15013 12.0581 8.75333 11.9424 9.33527C11.8266 9.91721 11.5409 10.4518 11.1213 10.8713C10.7018 11.2909 10.1672 11.5766 9.58527 11.6924C9.00333 11.8081 8.40013 11.7487 7.85195 11.5216C7.30377 11.2946 6.83524 10.9101 6.50559 10.4167C6.17595 9.92336 6 9.34334 6 8.75C6 7.95435 6.31607 7.19129 6.87868 6.62868C7.44129 6.06607 8.20435 5.75 9 5.75Z" fill="grey"></path>
                      </svg>{{event.start_point}}</li>
                  </ul>
                  <ul class="meta wow fadeInUp animated">
                    <li>
                      <svg style="margin-right:10px" width="18px" height="18px" viewbox="0 0 48 48" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <rect width="18" height="18" fill="white" fill-opacity="0.01"></rect>
                        <path fill-rule="evenodd" clip-rule="evenodd" d="M24 44C32.2843 44 39 37.2843 39 29C39 15 24 4 24 4C24 4 9 15 9 29C9 37.2843 15.7157 44 24 44Z" stroke="grey" stroke-width="5" stroke-linecap="round" stroke-linejoin="round"></path>
                        <path d="M9 29C9 37.2843 15.7157 44 24 44C32.2843 44 39 37.2843 39 29C39 29 30 32 24 29C18 26 9 29 9 29Z" fill="grey" stroke="grey" stroke-width="4" stroke-linejoin="round"></path>
                      </svg>{{event.get_level_display}}
                    </li>
                  </ul>
                  <ul class="meta wow fadeInUp animated">
                    <li>
                      <span>
                        <svg fill="grey" width="18px" height="18px" xmlns="http://www.w3.org/2000/svg" id="Filled" viewbox="0 0 24 24">
                          <path d="M19.675,2.758A11.936,11.936,0,0,0,10.474.1,12,12,0,0,0,12.018,24H19a5.006,5.006,0,0,0,5-5V11.309l0-.063A12.044,12.044,0,0,0,19.675,2.758ZM8,7h4a1,1,0,0,1,0,2H8A1,1,0,0,1,8,7Zm8,10H8a1,1,0,0,1,0-2h8a1,1,0,0,1,0,2Zm0-4H8a1,1,0,0,1,0-2h8a1,1,0,0,1,0,2Z"/></svg>
                      </span>
                      {{event.lang}}
                    </li>
                  </ul>
                </div>
              </a>
            {% endfor %}
            <!-- run-event List Start -->

          </div>
          <!-- run-event List Wrap Start -->

          <!-- Pagination Start -->
          <ul class="pagination d-flex justify-content-center mt-5">
            {% if events.has_previous %}
              <li class="page-item" style="min-width:100px; text-align:center;">
                <a class="page-link" href="?p={{events.previous_page_number }}">Previous</a>
              </li>
            {% else %}
              <li class="page-item disabled" style="min-width:100px; text-align:center;">
                <a class="page-link" href="#">Previous</a>
              </li>
            {% endif %}
            <li class="page-item" style="min-width:70px; text-align:center; padding-top:9px;">
              {% for num in page_list %}
                {% if events.number == num %}
                  <span style="color:grey; padding:5px;">{{num}}</span>
                {% else %}
                  <a href="?p={{num}}" style="color:#1973E8; padding:5px;">{{num}}</a>
                {% endif %}

              {% endfor %}
            </li>
            {% if events.has_next %}
              <li class="page-item" style="min-width:100px; text-align:center;">
                <a class="page-link" href="?p={{events.next_page_number }}">Next</a>
              </li>
            {% else %}
              <li class="page-item disabled" style="min-width:100px; text-align:center;">
                <a class="page-link" href="#">Next</a>
              </li>
            {% endif %}

          </ul>
          <!-- Pagination End -->
          <div style="height:50px; width:100%;"></div>
          {% if user.is_staff %}
            <div class="d-flex justify-content-center wow fadeInUp animated">
              <a href="{% url "events:event_write" %}">
                <button class="flat-button">Register Event (Manager View Only)</button>
              </a>
            </div>
            <div style="height:40px; width:100%;"></div>
          {% endif %}

        </div>
      </div>
    </div>
  </div>
  <!-- Recent run-events End -->
{% endblock content%}